apiVersion: 1

policies:
  - orgId: 1
    receiver: EISLAW Alerts
    group_by:
      - grafana_folder
      - alertname
    routes:
      # Critical alerts - notify immediately
      - receiver: EISLAW Alerts
        object_matchers:
          - - severity
            - =
            - critical
        group_wait: 10s
        group_interval: 1m
        repeat_interval: 4h
        continue: false

      # Warning alerts - group and batch
      - receiver: EISLAW Alerts
        object_matchers:
          - - severity
            - =
            - warning
        group_wait: 30s
        group_interval: 5m
        repeat_interval: 12h
        continue: false

      # Info alerts - less urgent
      - receiver: EISLAW Alerts
        object_matchers:
          - - severity
            - =
            - info
        group_wait: 1m
        group_interval: 1h
        repeat_interval: 24h
        continue: false
