{"openapi":"3.1.0","info":{"title":"EISLAW Security Scoring Webhook","version":"0.1.0"},"paths":{"/fillout/webhook":{"post":{"summary":"Fillout Webhook","operationId":"fillout_webhook_fillout_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","parameters":[{"name":"details","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Details"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/insights/add":{"post":{"summary":"Insights Add","description":"Add or update transcripts/metadata. Stub: echoes minimal receipt.","operationId":"insights_add_api_insights_add_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/insights/review":{"post":{"summary":"Insights Review","description":"Quality control review stub (approve/flag).","operationId":"insights_review_api_insights_review_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/insights/search":{"get":{"summary":"Insights Search","description":"Semantic search stub: returns empty insights with echo of filters.","operationId":"insights_search_api_insights_search_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","default":"","title":"Q"}},{"name":"client","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client"}},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"}},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},{"name":"top","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Top"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/insights/ingest_manifest":{"post":{"summary":"Insights Ingest Manifest","description":"Accept a manifest {items:[{path, meta:{client,tags,source}}]} and put them into\na review queue JSON in SharePoint (System/insights_registry.json) and mirror under build/.","operationId":"insights_ingest_manifest_api_insights_ingest_manifest_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/word/templates":{"get":{"summary":"Word Templates","description":"Return available templates (local-first).","operationId":"word_templates_word_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/word/generate":{"post":{"summary":"Word Generate","description":"Generate a DOCX from a DOTX/DOCX template into the client's folder.\nWindows: uses Word COM (preferred). Others: python-docx for DOCX only.\nBody: { client_name: str, template_path: str }","operationId":"word_generate_word_generate_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/clients":{"get":{"summary":"List Clients","operationId":"list_clients_api_clients_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/client/summary":{"get":{"summary":"Client Summary","operationId":"client_summary_api_client_summary_get","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string","title":"Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/registry/clients":{"get":{"summary":"Registry Clients","operationId":"registry_clients_registry_clients_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Registry Clients Upsert","operationId":"registry_clients_upsert_registry_clients_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/airtable/search_open":{"get":{"summary":"Airtable Search Open","description":"Return an Airtable UI URL to open a matching client record if found.\nFalls back to the Clients table view when no match is found or Airtable is not configured.","operationId":"airtable_search_open_airtable_search_open_get","parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/airtable/clients_upsert":{"post":{"summary":"Airtable Clients Upsert","operationId":"airtable_clients_upsert_airtable_clients_upsert_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/registry/cleanup":{"get":{"summary":"Registry Cleanup Preview","description":"Preview registry cleanup. Returns items that would be removed.","operationId":"registry_cleanup_preview_registry_cleanup_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Registry Cleanup Apply","description":"Apply cleanup: remove entries not backed by SharePoint/local folders and bugged airtable+rec entries.\nCreates a backup (SharePoint and local) before writing.","operationId":"registry_cleanup_apply_registry_cleanup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/client/summary_online":{"get":{"summary":"Client Summary Online","operationId":"client_summary_online_api_client_summary_online_get","parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":25,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/outlook/latest_link":{"get":{"summary":"Outlook Latest Link","operationId":"outlook_latest_link_api_outlook_latest_link_get","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sp/check":{"get":{"summary":"Sp Check","description":"Verify SharePoint connectivity: site, drive, and base folder.\nOptionally create the base folder when missing.","operationId":"sp_check_sp_check_get","parameters":[{"name":"ensure_base","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Ensure Base"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sp/folder_create":{"post":{"summary":"Sp Folder Create","operationId":"sp_folder_create_sp_folder_create_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/airtable/contacts_upsert":{"post":{"summary":"Airtable Contacts Upsert","operationId":"airtable_contacts_upsert_airtable_contacts_upsert_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/graph/check":{"get":{"summary":"Graph Check","operationId":"graph_check_graph_check_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/graph/device_start":{"post":{"summary":"Graph Device Start","operationId":"graph_device_start_graph_device_start_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/graph/list":{"get":{"summary":"Graph List","operationId":"graph_list_graph_list_get","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","title":"Email"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Since"}},{"name":"top","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Top"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/client/sharepoint_link":{"get":{"summary":"Client Sharepoint Link","operationId":"client_sharepoint_link_api_client_sharepoint_link_get","parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dev/open_folder":{"post":{"summary":"Dev Open Folder","operationId":"dev_open_folder_dev_open_folder_post","parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dev/open_outlook_app":{"post":{"summary":"Dev Open Outlook App","description":"Launch an Edge app-window for Outlook OWA (local-only convenience).\nRequires DEV_DESKTOP_ENABLE or DEV_ENABLE_OPEN.\nBody (optional): { url: string }","operationId":"dev_open_outlook_app_dev_open_outlook_app_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/client/locations":{"get":{"summary":"Client Locations","description":"Return both the local folder (if known) and SharePoint webUrl for a client.\nWorks for both local and cloud â€” caller chooses how to open.","operationId":"client_locations_api_client_locations_get","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dev/desktop/open_path":{"post":{"summary":"Dev Desktop Open Path","operationId":"dev_desktop_open_path_dev_desktop_open_path_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dev/desktop/open_url":{"post":{"summary":"Dev Desktop Open Url","operationId":"dev_desktop_open_url_dev_desktop_open_url_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dev/desktop/playwright_probe":{"post":{"summary":"Dev Desktop Playwright Probe","operationId":"dev_desktop_playwright_probe_dev_desktop_playwright_probe_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
