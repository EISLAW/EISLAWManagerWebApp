<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://example.local/API_ENDPOINTS_INVENTORY/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>API Endpoints Inventory - EISLAW Docs</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">EISLAW Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../INDEX/" class="nav-link">Index</a>
                            </li>
                            <li class="navitem">
                                <a href="../WORKING_MEMORY/" class="nav-link">Working Memory</a>
                            </li>
                            <li class="navitem">
                                <a href="../Testing_Episodic_Log/" class="nav-link">Episodic Log</a>
                            </li>
                            <li class="navitem">
                                <a href="../TEAM_INBOX/" class="nav-link">Team Inbox</a>
                            </li>
                            <li class="navitem">
                                <a href="../DEV_WORKFLOW_DIAGRAM/" class="nav-link">Development Workflow Diagram</a>
                            </li>
                            <li class="navitem">
                                <a href="../WORKFLOW_UPDATE_ANALYSIS/" class="nav-link">Workflow Update Analysis</a>
                            </li>
                            <li class="navitem">
                                <a href="../RESEARCH_SKILLS_ARCHITECTURE/" class="nav-link">Skills Architecture Research</a>
                            </li>
                            <li class="navitem">
                                <a href="../RESEARCH_VM_STORAGE_MIGRATION/" class="nav-link">VM Storage Migration Research</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#api-endpoints-inventory" class="nav-link">API Endpoints Inventory</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#client-endpoints" class="nav-link">Client Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#contacts-endpoints-new-2025-12-06" class="nav-link">Contacts Endpoints (NEW - 2025-12-06)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#task-endpoints" class="nav-link">Task Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#email-endpoints" class="nav-link">Email Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ragdocuments-endpoints" class="nav-link">RAG/Documents Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sharepoint-endpoints" class="nav-link">SharePoint Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#worddocument-generation-endpoints-new-2025-12-07" class="nav-link">Word/Document Generation Endpoints (NEW - 2025-12-07)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#privacy-endpoints" class="nav-link">Privacy Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#system-endpoints" class="nav-link">System Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#dev-endpoints-local-development-only" class="nav-link">Dev Endpoints (Local Development Only)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ai-studio-endpoints" class="nav-link">AI Studio Endpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#orchestrator-endpoints-new-2025-12-09" class="nav-link">Orchestrator Endpoints (NEW - 2025-12-09)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#agent-tools-roadmap-priority" class="nav-link">Agent Tools Roadmap (Priority)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#adding-new-agent-tools" class="nav-link">Adding New Agent Tools</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="api-endpoints-inventory">API Endpoints Inventory</h1>
<p><strong>Author:</strong> Alex (Full-Stack)
<strong>Date:</strong> 2025-12-08
<strong>Purpose:</strong> Complete list of all API endpoints for UI and AI Agent use
<strong>Status:</strong> Living Document - Update when adding new endpoints</p>
<hr />
<h2 id="overview">Overview</h2>
<p>This document lists ALL available API endpoints in the EISLAW system. Each endpoint is marked with:
- <strong>UI</strong>: Used by frontend
- <strong>Agent</strong>: Has corresponding AI Agent tool
- <strong>Candidate</strong>: Could be an AI Agent tool (not yet implemented)</p>
<h3 id="backend-implementation-status-legend">Backend Implementation Status Legend</h3>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>âœ…</td>
<td>Implemented in backend (<code>main.py</code>)</td>
</tr>
<tr>
<td>âŒ</td>
<td>Missing - Frontend calls but backend doesn't have</td>
</tr>
<tr>
<td>ğŸ”„</td>
<td>VM Only - Exists on VM but not synced to local repo</td>
</tr>
</tbody>
</table>
<blockquote>
<p>âš ï¸ <strong>HANDSHAKE RULE:</strong> Every frontend <code>fetch()</code> call MUST have a corresponding backend endpoint. See <code>Testing_Episodic_Log.md</code> for verification commands.</p>
</blockquote>
<h3 id="implementation-summary-2025-12-08-ai-studio-endpoints-documented">Implementation Summary (2025-12-08 - AI Studio endpoints documented)</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Total</th>
<th>âœ… Implemented</th>
<th>âš ï¸ Known Issues</th>
<th>âŒ Missing</th>
<th>ğŸ”„ VM Only</th>
<th>â³ Planned</th>
</tr>
</thead>
<tbody>
<tr>
<td>Client</td>
<td>17</td>
<td>14</td>
<td>1</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>Contacts</td>
<td>4</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>Task</td>
<td>18</td>
<td>9</td>
<td>0</td>
<td>9</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>Email</td>
<td>7</td>
<td>4</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>RAG</td>
<td>12</td>
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>SharePoint</td>
<td>4</td>
<td>3</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>Word/Docs</strong></td>
<td><strong>6</strong></td>
<td><strong>6</strong></td>
<td><strong>0</strong></td>
<td><strong>0</strong></td>
<td><strong>0</strong></td>
<td><strong>0</strong></td>
</tr>
<tr>
<td>Privacy</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>System</td>
<td>4</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>Dev</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>AI Studio</td>
<td>6</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>Orchestrator</td>
<td>6</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>TOTAL</strong></td>
<td><strong>89</strong></td>
<td><strong>71</strong></td>
<td><strong>1</strong></td>
<td><strong>18</strong></td>
<td><strong>2</strong></td>
<td><strong>0</strong></td>
</tr>
</tbody>
</table>
<p><strong>AI Agent Tools:</strong> 16 implemented in <code>ai_studio_tools.py</code>:
- Clients: 4 (search_clients, get_client_details, archive_client, restore_client)
- Contacts: 2 (get_client_contacts, add_contact)
- Tasks: 3 (search_tasks, create_task, update_task_status)
- Documents: 2 (list_templates, generate_document)
- Privacy: 4 (score_privacy_submission, send_privacy_email, get_privacy_metrics, search_privacy_submissions)
- System: 1 (get_system_summary)</p>
<p><strong>Known Issue:</strong> Airtable upsert has field type config issue (not code bug).</p>
<hr />
<h2 id="client-endpoints">Client Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/clients</code></td>
<td>GET</td>
<td>List all clients</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/clients/{cid}</code></td>
<td>GET</td>
<td>Get client by ID</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/client/summary</code></td>
<td>GET</td>
<td>Get client details + emails + files</td>
<td>UI, <strong>Candidate</strong></td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/client/summary_online</code></td>
<td>GET</td>
<td>Get client details from live Graph API</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/api/client/locations</code></td>
<td>GET</td>
<td>Get client folder paths (local + SharePoint)</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/api/clients/{cid}/files</code></td>
<td>GET</td>
<td>Get client files</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/clients/{cid}/emails</code></td>
<td>GET</td>
<td>Get client emails</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/clients/{cid}/privacy/scores</code></td>
<td>GET</td>
<td>Get privacy scores</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/clients/{cid}/privacy/deliver</code></td>
<td>POST</td>
<td>Deliver privacy report</td>
<td>UI, <strong>Candidate</strong></td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/outlook/latest_link</code></td>
<td>GET</td>
<td>Get latest Outlook deeplink for email</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/registry/clients</code></td>
<td>POST</td>
<td>Create new client</td>
<td>UI, Agent</td>
<td>âœ… (expects <code>display_name</code>, <code>email</code> as array)</td>
</tr>
<tr>
<td><code>/registry/clients/{id}</code></td>
<td>GET</td>
<td>Get client with contacts</td>
<td>UI</td>
<td>âœ… (Added 2025-12-06)</td>
</tr>
<tr>
<td><code>/registry/clients/{id}</code></td>
<td>PATCH</td>
<td>Update client details</td>
<td>UI</td>
<td>âœ… (Added 2025-12-06)</td>
</tr>
<tr>
<td><code>/airtable/clients_upsert</code></td>
<td>POST</td>
<td>Sync client to Airtable</td>
<td>UI</td>
<td>âš ï¸ Bug: Email field format error</td>
</tr>
<tr>
<td><code>/airtable/search</code></td>
<td>GET</td>
<td>Search Airtable clients</td>
<td>UI</td>
<td>âœ… (Added 2025-12-06)</td>
</tr>
<tr>
<td><code>/api/clients/{id}/archive</code></td>
<td>POST</td>
<td>Archive client</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/clients/{id}/restore</code></td>
<td>POST</td>
<td>Restore archived client</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h3 id="archive-feature-cli-006-implemented">Archive Feature (CLI-006 - Implemented)</h3>
<blockquote>
<p><strong>Status:</strong> Implemented per <code>PRD_CLIENT_ARCHIVE.md</code> (CLI-006)</p>
</blockquote>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Request</th>
<th>Response</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GET /api/clients?archived=</code></td>
<td>GET</td>
<td>Filter clients</td>
<td><code>?archived=0</code> (default), <code>1</code>, <code>all</code></td>
<td>Array of clients</td>
</tr>
<tr>
<td><code>POST /api/clients/{id}/archive</code></td>
<td>POST</td>
<td>Archive client</td>
<td><code>{}</code></td>
<td><code>{ success, archived_at }</code></td>
</tr>
<tr>
<td><code>POST /api/clients/{id}/restore</code></td>
<td>POST</td>
<td>Restore client</td>
<td><code>{}</code></td>
<td><code>{ success }</code></td>
</tr>
</tbody>
</table>
<p><strong>Error Codes:</strong> 404 (not found), 409 (already in target state)</p>
<h3 id="client-endpoint-notes">Client Endpoint Notes</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Status</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>POST /registry/clients</code></td>
<td>âœ… Working</td>
<td>Expects <code>display_name</code> (by design), <code>email</code> as array</td>
</tr>
<tr>
<td><code>POST /airtable/clients_upsert</code></td>
<td>âš ï¸ Known Issue</td>
<td>Airtable field "××™××™×™×œ" type mismatch - needs Airtable config fix, not code bug</td>
</tr>
</tbody>
</table>
<h3 id="ai-agent-tools-clients-9-implemented">AI Agent Tools (Clients) - 9 Implemented</h3>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Status</th>
<th>Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>search_clients</code></td>
<td>âœ… Implemented</td>
<td>API <code>/api/clients</code> (supports <code>include_archived</code>)</td>
</tr>
<tr>
<td><code>get_client_details</code></td>
<td>âœ… Implemented</td>
<td>GET <code>/registry/clients/{id}</code></td>
</tr>
<tr>
<td><code>update_client</code></td>
<td>âœ… Implemented</td>
<td>PATCH <code>/registry/clients/{id}</code></td>
</tr>
<tr>
<td><code>create_client</code></td>
<td>âœ… Implemented</td>
<td>POST <code>/registry/clients</code></td>
</tr>
<tr>
<td><code>get_client_contacts</code></td>
<td>âœ… Implemented</td>
<td>GET <code>/contacts/{client_id}</code></td>
</tr>
<tr>
<td><code>add_contact</code></td>
<td>âœ… Implemented</td>
<td>POST <code>/contacts</code></td>
</tr>
<tr>
<td><code>sync_client_to_airtable</code></td>
<td>âœ… Implemented</td>
<td>POST <code>/airtable/clients_upsert</code></td>
</tr>
<tr>
<td><code>archive_client</code></td>
<td>âœ… Implemented</td>
<td>POST <code>/api/clients/{id}/archive</code></td>
</tr>
<tr>
<td><code>restore_client</code></td>
<td>âœ… Implemented</td>
<td>POST <code>/api/clients/{id}/restore</code></td>
</tr>
</tbody>
</table>
<h3 id="missing-agent-tools-clients">Missing Agent Tools (Clients)</h3>
<ul>
<li><code>get_client_emails</code> - Get client's emails</li>
<li><code>get_client_files</code> - Get client's files</li>
</ul>
<hr />
<h2 id="contacts-endpoints-new-2025-12-06">Contacts Endpoints (NEW - 2025-12-06)</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/contacts/{client_id}</code></td>
<td>GET</td>
<td>List contacts for client</td>
<td>UI, Agent</td>
<td>âœ… Verified</td>
</tr>
<tr>
<td><code>/contacts</code></td>
<td>POST</td>
<td>Create new contact</td>
<td>UI, Agent</td>
<td>âœ… Verified</td>
</tr>
<tr>
<td><code>/contacts/{id}</code></td>
<td>PATCH</td>
<td>Update contact</td>
<td>UI, Agent</td>
<td>âœ… Verified</td>
</tr>
<tr>
<td><code>/contacts/{id}</code></td>
<td>DELETE</td>
<td>Delete contact</td>
<td>UI, Agent</td>
<td>âœ… Verified</td>
</tr>
</tbody>
</table>
<h3 id="contact-object-schema">Contact Object Schema</h3>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;uuid&quot;,
  &quot;client_id&quot;: &quot;uuid&quot;,
  &quot;name&quot;: &quot;string&quot;,
  &quot;email&quot;: &quot;string (optional)&quot;,
  &quot;phone&quot;: &quot;string (optional)&quot;,
  &quot;role&quot;: &quot;string (optional)&quot;,
  &quot;notes&quot;: &quot;string (optional)&quot;,
  &quot;is_primary&quot;: 0 | 1,
  &quot;created_at&quot;: &quot;datetime&quot;,
  &quot;updated_at&quot;: &quot;datetime&quot;
}
</code></pre>
<h3 id="ai-agent-tools-contacts-all-implemented">AI Agent Tools (Contacts) - All Implemented</h3>
<p>All contact tools are implemented and verified working:
- âœ… <code>get_client_contacts</code> - Get all contacts for a client
- âœ… <code>add_contact</code> - Add contact to client
- âœ… <code>sync_client_to_airtable</code> - Sync client to Airtable</p>
<hr />
<h2 id="task-endpoints">Task Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/tasks</code></td>
<td>GET</td>
<td>List all tasks</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks</code></td>
<td>POST</td>
<td>Create task</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks/summary</code></td>
<td>GET</td>
<td>Get task counts by status</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks/{task_id}</code></td>
<td>GET</td>
<td>Get task by ID</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks/{task_id}</code></td>
<td>PATCH</td>
<td>Update task</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks/{task_id}</code></td>
<td>DELETE</td>
<td>Delete task</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks/{task_id}/done</code></td>
<td>POST</td>
<td>Mark task done</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/tasks/{task_id}/subtask</code></td>
<td>POST</td>
<td>Add subtask</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/files</code></td>
<td>GET</td>
<td>Get task files/attachments</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/files/upload</code></td>
<td>POST</td>
<td>Upload file to task</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/files/{driveId}/title</code></td>
<td>PATCH</td>
<td>Rename file</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/links/add</code></td>
<td>POST</td>
<td>Add link to task</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/links/update</code></td>
<td>PATCH</td>
<td>Update link</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/assets/remove</code></td>
<td>POST</td>
<td>Remove asset from task</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/folder_link_add</code></td>
<td>POST</td>
<td>Add folder link to task</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/tasks/{task_id}/emails/attach</code></td>
<td>POST</td>
<td>Attach email to task</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/api/tasks/import</code></td>
<td>POST</td>
<td>Import tasks</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/tasks/create_or_get_folder</code></td>
<td>POST</td>
<td>Create task folder</td>
<td>UI</td>
<td>âŒ</td>
</tr>
</tbody>
</table>
<h3 id="ai-agent-tools-tasks">AI Agent Tools (Tasks)</h3>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Status</th>
<th>Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>search_tasks</code></td>
<td>Implemented</td>
<td>Direct JSON access</td>
</tr>
<tr>
<td><code>create_task</code></td>
<td>Implemented</td>
<td>Direct JSON access</td>
</tr>
<tr>
<td><code>update_task_status</code></td>
<td>Implemented</td>
<td>Direct JSON access</td>
</tr>
<tr>
<td><code>get_system_summary</code></td>
<td>Implemented</td>
<td>Direct JSON access</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="email-endpoints">Email Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/email/by_client</code></td>
<td>GET</td>
<td>Get indexed emails for client</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/email/search</code></td>
<td>GET</td>
<td>Search emails</td>
<td>UI</td>
<td>ğŸ”„</td>
</tr>
<tr>
<td><code>/email/sync_client</code></td>
<td>POST</td>
<td>Sync emails from Graph API</td>
<td>UI, <strong>Candidate</strong></td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/email/content</code></td>
<td>GET</td>
<td>Get email HTML content</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/email/viewer</code></td>
<td>GET</td>
<td>Get email viewer URL (iframe-friendly)</td>
<td>UI</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/email/open</code></td>
<td>POST</td>
<td>Get OWA link to view email</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/email/reply</code></td>
<td>POST</td>
<td>Get OWA link to reply to email</td>
<td>UI</td>
<td>ğŸ”„</td>
</tr>
</tbody>
</table>
<h3 id="owa-url-formats">OWA URL Formats</h3>
<pre><code>View Email:  https://outlook.office365.com/owa/?ItemID={encoded_id}&amp;exvsurl=1&amp;viewmodel=ReadMessageItem
Reply:       https://outlook.office365.com/owa/?ItemID={encoded_id}&amp;action=Reply&amp;exvsurl=1
</code></pre>
<h3 id="missing-agent-tools-email">Missing Agent Tools (Email)</h3>
<ul>
<li><code>search_emails</code> - Search client emails</li>
<li><code>get_email_content</code> - Get email body</li>
<li><code>sync_client_emails</code> - Trigger email sync</li>
</ul>
<hr />
<h2 id="ragdocuments-endpoints">RAG/Documents Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/rag/search</code></td>
<td>GET</td>
<td>Search RAG documents</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/inbox</code></td>
<td>GET</td>
<td>Get RAG inbox items</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/ingest</code></td>
<td>POST</td>
<td>Ingest document to RAG</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/transcribe_doc</code></td>
<td>POST</td>
<td>Transcribe document</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/publish/{item_id}</code></td>
<td>POST</td>
<td>Publish RAG item</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/reviewer/{item_id}</code></td>
<td>GET</td>
<td>Get reviewer data</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/reviewer/{item_id}</code></td>
<td>PATCH</td>
<td>Update reviewer data</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/models</code></td>
<td>GET</td>
<td>List available AI models</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/file/{item_id}</code></td>
<td>PATCH</td>
<td>Update RAG file</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/file/{item_id}</code></td>
<td>DELETE</td>
<td>Delete RAG file</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/audio/{item_id}</code></td>
<td>GET</td>
<td>Get audio file</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/rag/assistant</code></td>
<td>POST</td>
<td>Chat with RAG assistant</td>
<td>UI</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h3 id="missing-agent-tools-rag">Missing Agent Tools (RAG)</h3>
<ul>
<li><code>search_documents</code> - Search knowledge base</li>
<li><code>get_document_content</code> - Get document text</li>
<li><code>ask_knowledge_base</code> - Query RAG assistant</li>
</ul>
<hr />
<h2 id="sharepoint-endpoints">SharePoint Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/sharepoint/search</code></td>
<td>GET</td>
<td>Search SharePoint</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/sharepoint/link_client</code></td>
<td>POST</td>
<td>Link client to SharePoint folder</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/sharepoint/sites</code></td>
<td>GET</td>
<td>List SharePoint sites</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/sp/folder_create</code></td>
<td>POST</td>
<td>Create SharePoint folder</td>
<td>UI</td>
<td>âŒ</td>
</tr>
</tbody>
</table>
<h3 id="missing-agent-tools-sharepoint">Missing Agent Tools (SharePoint)</h3>
<ul>
<li><code>list_client_files</code> - List files in client folder</li>
<li><code>open_sharepoint_folder</code> - Get SharePoint URL</li>
</ul>
<hr />
<h2 id="worddocument-generation-endpoints-new-2025-12-07">Word/Document Generation Endpoints (NEW - 2025-12-07)</h2>
<blockquote>
<p><strong>Phase 4G: Document Generation Feature</strong> - Generate Word documents from SharePoint templates</p>
</blockquote>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/word/templates</code></td>
<td>GET</td>
<td>List .dotx templates from SharePoint</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/word/templates_root</code></td>
<td>GET</td>
<td>Get templates folder URL</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/word/client_folder_url/{client_name}</code></td>
<td>GET</td>
<td>Get client's SharePoint folder URL</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/word/generate</code></td>
<td>POST</td>
<td>Generate single document from template</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/word/generate_multiple</code></td>
<td>POST</td>
<td>Generate multiple documents at once</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/word/health</code></td>
<td>GET</td>
<td>Health check for Word API</td>
<td>System</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h3 id="template-object-schema">Template Object Schema</h3>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;template_×¤×¨×˜×™×•×ª_×”×¦×”×¨×”.dotx&quot;,
  &quot;display_name&quot;: &quot;×¤×¨×˜×™×•×ª - ×”×¦×”×¨×”&quot;,
  &quot;path&quot;: &quot;×œ×§×•×—×•×ª ××©×¨×“/×œ×§×•×—×•×ª ××©×¨×“_×˜××¤×œ×™×™×˜×™×/×¤×¨×˜×™×•×ª/template_×¤×¨×˜×™×•×ª_×”×¦×”×¨×”.dotx&quot;,
  &quot;item_id&quot;: &quot;01QFJOIS...&quot;,
  &quot;folder&quot;: &quot;×¤×¨×˜×™×•×ª&quot;,
  &quot;webUrl&quot;: &quot;https://eislaw.sharepoint.com/...&quot;,
  &quot;size&quot;: 42601,
  &quot;modified&quot;: &quot;2025-06-12T20:55:10Z&quot;
}
</code></pre>
<h3 id="generate-request-schema">Generate Request Schema</h3>
<pre><code class="language-json">{
  &quot;client_name&quot;: &quot;×’×œ×™×œ ×¤×ª×¨×•× ×•×ª ××—×¡×•×Ÿ&quot;,
  &quot;template_paths&quot;: [
    &quot;×œ×§×•×—×•×ª ××©×¨×“/×œ×§×•×—×•×ª ××©×¨×“_×˜××¤×œ×™×™×˜×™×/template_×¤×¨×˜×™×•×ª_×”×¦×”×¨×”.dotx&quot;,
    &quot;×œ×§×•×—×•×ª ××©×¨×“/×œ×§×•×—×•×ª ××©×¨×“_×˜××¤×œ×™×™×˜×™×/template_×”×¡×›×_×©×™×¨×•×ª×™×.dotx&quot;
  ],
  &quot;extra_data&quot;: {}  // Optional placeholder data
}
</code></pre>
<h3 id="generate-response-schema">Generate Response Schema</h3>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;files_created&quot;: [
    {
      &quot;name&quot;: &quot;×’×œ×™×œ ×¤×ª×¨×•× ×•×ª ××—×¡×•×Ÿ_×¤×¨×˜×™×•×ª_×”×¦×”×¨×”.docx&quot;,
      &quot;url&quot;: &quot;https://eislaw.sharepoint.com/...&quot;,
      &quot;path&quot;: &quot;×œ×§×•×—×•×ª ××©×¨×“/×’×œ×™×œ ×¤×ª×¨×•× ×•×ª ××—×¡×•×Ÿ/×’×œ×™×œ ×¤×ª×¨×•× ×•×ª ××—×¡×•×Ÿ_×¤×¨×˜×™×•×ª_×”×¦×”×¨×”.docx&quot;
    }
  ],
  &quot;folder_url&quot;: &quot;https://eislaw.sharepoint.com/.../×’×œ×™×œ ×¤×ª×¨×•× ×•×ª ××—×¡×•×Ÿ&quot;,
  &quot;client&quot;: &quot;×’×œ×™×œ ×¤×ª×¨×•× ×•×ª ××—×¡×•×Ÿ&quot;,
  &quot;total_created&quot;: 1,
  &quot;total_errors&quot;: 0
}
</code></pre>
<h3 id="ai-agent-tools-documents-3-implemented">AI Agent Tools (Documents) - 3 Implemented</h3>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Status</th>
<th>Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>list_templates</code></td>
<td>âœ… Implemented</td>
<td>GET <code>/word/templates</code></td>
</tr>
<tr>
<td><code>generate_document</code></td>
<td>âœ… Implemented</td>
<td>POST <code>/word/generate_multiple</code></td>
</tr>
<tr>
<td><code>get_client_folder_url</code></td>
<td>âœ… Implemented</td>
<td>GET <code>/word/client_folder_url/{client_name}</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="privacy-endpoints">Privacy Endpoints</h2>
<blockquote>
<p><strong>Database:</strong> All privacy data stored in <code>data/privacy.db</code> (separate from eislaw.db)
<strong>Source:</strong> Fillout form submissions via webhook</p>
</blockquote>
<h3 id="core-data-endpoints">Core Data Endpoints</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Params</th>
<th>Response</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/privacy/submissions</code></td>
<td>GET</td>
<td>List all submissions</td>
<td><code>limit</code> (default 50), <code>status</code></td>
<td><code>{submissions: [...], total: N}</code></td>
</tr>
<tr>
<td><code>/api/privacy/submissions/{id}</code></td>
<td>GET</td>
<td>Single submission detail</td>
<td>-</td>
<td>Full submission object</td>
</tr>
<tr>
<td><code>/api/privacy/db-submissions</code></td>
<td>GET</td>
<td>Alt list (same data)</td>
<td><code>limit</code>, <code>status</code></td>
<td><code>{submissions: [...]}</code></td>
</tr>
</tbody>
</table>
<h3 id="monitoring-stats">Monitoring &amp; Stats</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Response</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/privacy/activity</code></td>
<td>GET</td>
<td>Webhook event log</td>
<td><code>{activities: [...]}</code> with timestamps, event_type, duration_ms</td>
</tr>
<tr>
<td><code>/api/privacy/stats</code></td>
<td>GET</td>
<td>Summary counts</td>
<td><code>{total, by_level: {lone, basic, mid, high}, pending, approved}</code></td>
</tr>
<tr>
<td><code>/api/privacy/metrics</code></td>
<td>GET</td>
<td>Dashboard KPIs</td>
<td>Aggregated metrics</td>
</tr>
</tbody>
</table>
<h3 id="scoring-review-workflow">Scoring &amp; Review Workflow</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/privacy/score/{id}</code></td>
<td>POST</td>
<td>Re-run scoring algorithm</td>
</tr>
<tr>
<td><code>/api/privacy/score_all</code></td>
<td>POST</td>
<td>Re-score all submissions</td>
</tr>
<tr>
<td><code>/api/privacy/review/{id}</code></td>
<td>GET</td>
<td>Get review status</td>
</tr>
<tr>
<td><code>/api/privacy/save_review</code></td>
<td>POST</td>
<td>Save review decision</td>
</tr>
<tr>
<td><code>/api/privacy/approve_and_publish/{id}</code></td>
<td>POST</td>
<td>Approve &amp; generate report</td>
</tr>
</tbody>
</table>
<h3 id="email-reports">Email &amp; Reports</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/privacy/preview_email/{id}</code></td>
<td>POST</td>
<td>Preview result email</td>
</tr>
<tr>
<td><code>/api/privacy/send_email/{id}</code></td>
<td>POST</td>
<td>Send results to client</td>
</tr>
<tr>
<td><code>/api/privacy/report/{token}</code></td>
<td>GET</td>
<td>Public report (JSON)</td>
</tr>
<tr>
<td><code>/api/privacy/report/{token}/html</code></td>
<td>GET</td>
<td>Public report (HTML)</td>
</tr>
<tr>
<td><code>/api/privacy/public-results/{id}</code></td>
<td>GET</td>
<td>Public-safe results</td>
</tr>
</tbody>
</table>
<h3 id="webhook-sync">Webhook &amp; Sync</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/privacy/webhook</code></td>
<td>POST</td>
<td>Receive Fillout form submission</td>
</tr>
<tr>
<td><code>/api/privacy/sync_fillout</code></td>
<td>GET</td>
<td>Pull submissions from Fillout API</td>
</tr>
</tbody>
</table>
<h3 id="client-specific">Client-Specific</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/clients/{cid}/privacy/scores</code></td>
<td>GET</td>
<td>Get client's privacy scores</td>
</tr>
<tr>
<td><code>/api/clients/{cid}/privacy/deliver</code></td>
<td>POST</td>
<td>Deliver report to client</td>
</tr>
</tbody>
</table>
<h3 id="example-ai-aggregation-query">Example: AI Aggregation Query</h3>
<pre><code class="language-bash"># Get last N submissions with scoring results
curl &quot;http://20.217.86.4:8799/api/privacy/submissions?limit=10&quot;

# Response structure:
{
  &quot;submissions&quot;: [
    {
      &quot;submission_id&quot;: &quot;uuid&quot;,
      &quot;contact_name&quot;: &quot;×©×&quot;,
      &quot;business_name&quot;: &quot;×¢×¡×§&quot;,
      &quot;contact_email&quot;: &quot;email@example.com&quot;,
      &quot;submitted_at&quot;: &quot;2025-12-07T10:46:04.883Z&quot;,
      &quot;score_level&quot;: &quot;high&quot;,      // lone, basic, mid, high
      &quot;score_color&quot;: &quot;red&quot;,       // yellow, orange, red
      &quot;score_dpo&quot;: 1,             // 0/1 - DPO required
      &quot;score_reg&quot;: 1,             // 0/1 - Registration required
      &quot;score_report&quot;: 0,          // 0/1 - Annual report required
      &quot;score_requirements&quot;: &quot;[...]&quot;, // JSON array
      &quot;review_status&quot;: &quot;pending&quot;  // pending, approved, rejected
    }
  ],
  &quot;total&quot;: 21
}
</code></pre>
<hr />
<h2 id="system-endpoints">System Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/health</code></td>
<td>GET</td>
<td>Health check</td>
<td>System</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/auth/me</code></td>
<td>GET</td>
<td>Get current user</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/integrations/health</code></td>
<td>GET</td>
<td>Integration health</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/projects</code></td>
<td>GET</td>
<td>List projects</td>
<td>UI</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="dev-endpoints-local-development-only">Dev Endpoints (Local Development Only)</h2>
<blockquote>
<p><strong>Note:</strong> These endpoints only work when running locally with desktop access. Not available on VM.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dev/open_folder</code></td>
<td>POST</td>
<td>Open client folder in Explorer</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/dev/open_outlook_app</code></td>
<td>POST</td>
<td>Open Outlook desktop app</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/dev/desktop/open_path</code></td>
<td>POST</td>
<td>Open any path in Explorer</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>/dev/desktop/pick_folder</code></td>
<td>POST</td>
<td>Show folder picker dialog</td>
<td>âŒ</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="ai-studio-endpoints">AI Studio Endpoints</h2>
<blockquote>
<p><strong>Router:</strong> <code>ai_studio.py</code> â†’ prefix <code>/api/ai-studio</code>
<strong>Updated:</strong> 2025-12-08</p>
</blockquote>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/api/ai-studio/chat</code></td>
<td>POST</td>
<td>Send message to AI (SSE streaming)</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/ai-studio/conversations</code></td>
<td>GET</td>
<td>List all conversations</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/ai-studio/conversations/{id}</code></td>
<td>GET</td>
<td>Get conversation with messages</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/ai-studio/conversations/{id}</code></td>
<td>DELETE</td>
<td>Delete conversation</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/ai-studio/providers</code></td>
<td>GET</td>
<td>List available LLM providers</td>
<td>UI</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/api/ai-studio/tools</code></td>
<td>GET</td>
<td>List available AI agent tools</td>
<td>UI</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h3 id="chat-request-schema">Chat Request Schema</h3>
<pre><code class="language-json">{
  &quot;conversation_id&quot;: &quot;uuid or null for new&quot;,
  &quot;message&quot;: &quot;User message text&quot;,
  &quot;provider&quot;: &quot;gemini|claude|openai&quot;,
  &quot;system_prompt&quot;: &quot;optional custom prompt&quot;,
  &quot;tools_enabled&quot;: true
}
</code></pre>
<h3 id="sse-event-types">SSE Event Types</h3>
<table>
<thead>
<tr>
<th>Event</th>
<th>Data</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>token</code></td>
<td><code>{"content": "..."}</code></td>
<td>Streaming text token</td>
</tr>
<tr>
<td><code>tool_call</code></td>
<td><code>{"tool": "...", "arguments": {...}}</code></td>
<td>Agent invoking a tool</td>
</tr>
<tr>
<td><code>tool_result</code></td>
<td><code>{"tool": "...", "result": {...}}</code></td>
<td>Tool execution result</td>
</tr>
<tr>
<td><code>conversation</code></td>
<td><code>{"conversation_id": "..."}</code></td>
<td>Final conversation ID</td>
</tr>
<tr>
<td><code>done</code></td>
<td><code>{"status": "complete"}</code></td>
<td>Stream complete</td>
</tr>
<tr>
<td><code>error</code></td>
<td><code>{"error": "..."}</code></td>
<td>Error occurred</td>
</tr>
</tbody>
</table>
<h3 id="currently-implemented-ai-tools-16-total">Currently Implemented AI Tools (16 Total)</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Tool Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Clients</strong></td>
<td><code>search_clients</code></td>
<td>Search clients by name/email/phone (supports <code>include_archived</code>)</td>
</tr>
<tr>
<td></td>
<td><code>get_client_details</code></td>
<td>Get client details by ID</td>
</tr>
<tr>
<td></td>
<td><code>archive_client</code></td>
<td>Archive a client</td>
</tr>
<tr>
<td></td>
<td><code>restore_client</code></td>
<td>Restore archived client</td>
</tr>
<tr>
<td><strong>Contacts</strong></td>
<td><code>get_client_contacts</code></td>
<td>Get contacts for a client</td>
</tr>
<tr>
<td></td>
<td><code>add_contact</code></td>
<td>Add contact to client</td>
</tr>
<tr>
<td><strong>Tasks</strong></td>
<td><code>search_tasks</code></td>
<td>Search tasks with filters</td>
</tr>
<tr>
<td></td>
<td><code>create_task</code></td>
<td>Create new task</td>
</tr>
<tr>
<td></td>
<td><code>update_task_status</code></td>
<td>Update task status</td>
</tr>
<tr>
<td><strong>Documents</strong></td>
<td><code>list_templates</code></td>
<td>List SharePoint templates</td>
</tr>
<tr>
<td></td>
<td><code>generate_document</code></td>
<td>Generate docs from templates</td>
</tr>
<tr>
<td><strong>Privacy</strong></td>
<td><code>score_privacy_submission</code></td>
<td>Score a privacy submission</td>
</tr>
<tr>
<td></td>
<td><code>send_privacy_email</code></td>
<td>Send privacy results email</td>
</tr>
<tr>
<td></td>
<td><code>get_privacy_metrics</code></td>
<td>Get privacy module stats</td>
</tr>
<tr>
<td></td>
<td><code>search_privacy_submissions</code></td>
<td>Search privacy submissions</td>
</tr>
<tr>
<td><strong>System</strong></td>
<td><code>get_system_summary</code></td>
<td>Get system statistics</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="orchestrator-endpoints-new-2025-12-09">Orchestrator Endpoints (NEW - 2025-12-09)</h2>
<blockquote>
<p><strong>Service:</strong> Orchestrator container on port 8801
<strong>Purpose:</strong> Microsoft Agent Framework POC - Alexâ†’Jacob workflow with Langfuse tracing
<strong>Status:</strong> AOS-025 implementation</p>
</blockquote>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Status</th>
<th>Backend</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/health</code></td>
<td>GET</td>
<td>Orchestrator health check</td>
<td>System</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/agents</code></td>
<td>GET</td>
<td>List available agent definitions</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/agents/{name}</code></td>
<td>GET</td>
<td>Get agent details by name</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/workflow/poc</code></td>
<td>POST</td>
<td>Run Alexâ†’Jacob POC workflow (sync)</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/workflow/poc/async</code></td>
<td>POST</td>
<td>Run POC workflow async</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/workflow/{task_id}</code></td>
<td>GET</td>
<td>Get workflow execution status</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/workflows</code></td>
<td>GET</td>
<td>List all workflow executions</td>
<td>UI, Agent</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h3 id="agent-definitions-aos-024">Agent Definitions (AOS-024)</h3>
<table>
<thead>
<tr>
<th>Agent</th>
<th>Model</th>
<th>Tools</th>
<th>Temperature</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alex</td>
<td>claude-sonnet-4-5-20250929</td>
<td>read_file, edit_file</td>
<td>0.2</td>
</tr>
<tr>
<td>Jacob</td>
<td>claude-opus-4-5-20251101</td>
<td>read_file, curl_api, grep_codebase</td>
<td>0.1</td>
</tr>
</tbody>
</table>
<h3 id="poc-workflow-request-schema">POC Workflow Request Schema</h3>
<pre><code class="language-json">{
  &quot;task_id&quot;: &quot;AOS-025-POC-001&quot;,
  &quot;task_description&quot;: &quot;Add health check endpoint to main.py&quot;
}
</code></pre>
<h3 id="poc-workflow-response-schema">POC Workflow Response Schema</h3>
<pre><code class="language-json">{
  &quot;workflow_name&quot;: &quot;POC-AlexJacob&quot;,
  &quot;task_id&quot;: &quot;AOS-025-POC-001&quot;,
  &quot;status&quot;: &quot;completed&quot;,  // completed, needs_fixes, blocked, error, max_iterations
  &quot;verdict&quot;: &quot;APPROVED&quot;,  // APPROVED, NEEDS_FIXES, BLOCKED
  &quot;iterations&quot;: 1,
  &quot;total_duration_ms&quot;: 45000,
  &quot;steps&quot;: [
    {
      &quot;agent&quot;: &quot;Alex&quot;,
      &quot;task&quot;: &quot;...&quot;,
      &quot;output&quot;: &quot;...&quot;,
      &quot;timestamp&quot;: &quot;2025-12-09T10:00:00Z&quot;,
      &quot;duration_ms&quot;: 30000
    }
  ]
}
</code></pre>
<h3 id="conditional-routing-per-prd-34">Conditional Routing (per PRD Â§3.4)</h3>
<table>
<thead>
<tr>
<th>Verdict</th>
<th>Next Step</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>APPROVED</td>
<td>done</td>
<td>Workflow completes successfully</td>
</tr>
<tr>
<td>NEEDS_FIXES</td>
<td>fix</td>
<td>Loop back to Alex (max 3 iterations)</td>
</tr>
<tr>
<td>BLOCKED</td>
<td>escalate</td>
<td>Escalate to CEO</td>
</tr>
</tbody>
</table>
<h3 id="service-urls">Service URLs</h3>
<table>
<thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>VM</td>
<td>http://20.217.86.4:8801</td>
</tr>
<tr>
<td>Health</td>
<td>http://20.217.86.4:8801/health</td>
</tr>
<tr>
<td>Langfuse</td>
<td>http://20.217.86.4:3001</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="agent-tools-roadmap-priority">Agent Tools Roadmap (Priority)</h2>
<h3 id="p1-high-priority-core-operations">P1 - High Priority (Core Operations)</h3>
<ol>
<li><code>get_client_summary</code> - Full client info with emails/files</li>
<li><code>search_emails</code> - Search client emails</li>
<li><code>send_email</code> - Send email via Graph API</li>
<li>âœ… <code>create_client</code> - Create new client (Implemented 2025-12-06)</li>
<li>âœ… <code>update_client</code> - Update client details (Implemented 2025-12-06)</li>
</ol>
<h3 id="p2-medium-priority-documents">P2 - Medium Priority (Documents)</h3>
<ol>
<li>âœ… <code>list_templates</code> - List Word templates (Implemented 2025-12-07 - Phase 4G)</li>
<li>âœ… <code>generate_document</code> - Generate doc from template (Implemented 2025-12-07 - Phase 4G)</li>
<li>âœ… <code>get_client_folder_url</code> - Get client SharePoint folder URL (Implemented 2025-12-07 - Phase 4G)</li>
<li><code>search_documents</code> - Search RAG knowledge base</li>
<li><code>list_client_files</code> - List SharePoint files</li>
</ol>
<h3 id="p3-nice-to-have">P3 - Nice to Have</h3>
<ol>
<li><code>get_privacy_score</code> - Get privacy algorithm score</li>
<li><code>schedule_meeting</code> - Create calendar event</li>
<li><code>send_whatsapp</code> - Send WhatsApp message</li>
</ol>
<hr />
<h2 id="adding-new-agent-tools">Adding New Agent Tools</h2>
<p>When adding a new API endpoint:</p>
<ol>
<li><strong>Add to main.py</strong> with proper route</li>
<li><strong>Document here</strong> in appropriate section</li>
<li><strong>If agent-callable</strong>, add to <code>ai_studio_tools.py</code>:</li>
<li>Add tool definition to <code>AVAILABLE_TOOLS</code></li>
<li>Add execution function <code>execute_{tool_name}</code></li>
<li>Add case in <code>execute_tool()</code> switch</li>
</ol>
<h3 id="tool-definition-format">Tool Definition Format</h3>
<pre><code class="language-python">{
    &quot;type&quot;: &quot;function&quot;,
    &quot;function&quot;: {
        &quot;name&quot;: &quot;tool_name&quot;,
        &quot;description&quot;: &quot;Clear description for AI&quot;,
        &quot;parameters&quot;: {
            &quot;type&quot;: &quot;object&quot;,
            &quot;properties&quot;: {
                &quot;param1&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;...&quot;},
            },
            &quot;required&quot;: [&quot;param1&quot;]
        }
    }
}
</code></pre>
<hr />
<p><em>Document created by Alex - 2025-12-06</em>
<em>Updated 2025-12-07 - Phase 4G Document Generation endpoints added</em>
<em>Updated 2025-12-09 - AOS-025 Orchestrator endpoints added (6 endpoints)</em>
<em>Update this document when adding new endpoints or agent tools</em></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
